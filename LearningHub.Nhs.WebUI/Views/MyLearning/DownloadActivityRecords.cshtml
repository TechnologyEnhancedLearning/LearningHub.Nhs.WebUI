@using LearningHub.Nhs.Models.Enums
@using LearningHub.Nhs.Models.Hierarchy
@using LearningHub.Nhs.Models.Resource.ResourceDisplay
@using LearningHub.Nhs.WebUI.Configuration;
@using LearningHub.Nhs.WebUI.Models
@using LearningHub.Nhs.WebUI.Models.Learning
@using LearningHub.Nhs.WebUI.Helpers;
@using Microsoft.Extensions.Options;
@inject IOptions<Settings> settings
@model Tuple<UserBasicViewModel, MyLearningUserActivitiesViewModel>
@inject LearningHub.Nhs.WebUI.Interfaces.IMoodleApiService moodleApiService;
@inject LearningHub.Nhs.WebUI.Interfaces.IMyLearningService myLearningService;
@{
    ViewData["Title"] = "My learning activity";
    string spacer = string.Empty;
    string GetMoodleCourseUrl(int courseId)
    {
        return moodleApiService.GetCourseUrl(courseId);
    }

    string GetResourceUrl(int resourceReferenceId)
    {
        return myLearningService.GetResourceUrl(resourceReferenceId);
    }
}
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <title>@ViewData["Title"]</title>
    <link href="https://learninghub.nhs.uk/css/site.css" rel="stylesheet" asp-append-version="true" />
    <link href="https://learninghub.nhs.uk/css/nhsuk/layout.css" rel="stylesheet" asp-append-version="true" />
    <link href="https://learninghub.nhs.uk//css/nhsuk/common.css" rel="stylesheet" asp-append-version="true" />

    <style>
        /*! CSS Used from: Embedded */

        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            -webkit-print-color-adjust: exact;
            zoom: 0.68;
        }

        .nhs-progress-container {
            display: flex;
            height: 10px;
            overflow: hidden;
            line-height: 0;
            font-size: 0.75rem;
            background-color: #e9ecef;
            border-radius: 0.25rem;
        }

        .nhs-progress-bar {
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
            color: #fff;
            text-align: center;
            white-space: nowrap;
            background-color: #007f3b;
            transition: width .6s ease;
        }

        .nhsuk-hero {
            background-color: #005eb8;
            color: #fff;
            position: relative;
        }

        .nhs-item-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        table {
            border-collapse: collapse;
        }

        th {
            text-align: inherit;
            text-align: -webkit-match-parent;
        }

        h2 {
            margin-bottom: 0.5rem;
            font-weight: 500;
            line-height: 1.2;
        }

        h2 {
            font-size: 2rem;
        }

        .align-items-center {
            align-items: center !important;
        }

        a {
            text-decoration: underline;
            color: #005eb8;
        }

        h2 {
            font-family: Frutiger W01, Arial, Sans-serif;
        }

        html {
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }


        table {
            margin-bottom: 40px;
            border-spacing: 0;
            vertical-align: top;
            width: 100%;
        }


        thead th {
            border-bottom: 2px solid #d8dde0;
        }

        th,
        td {
            font-size: 16px;
            font-size: 1rem;
            line-height: 1.5;
            padding-bottom: 8px;
            padding-right: 16px;
            padding-top: 8px;
            border-bottom: 1px solid #d8dde0;
            text-align: left;
            vertical-align: top;
        }

        @@media (min-width: 40.0625em) {
            th,
            td {
                font-size: 19px;
                font-size: 1.1875rem;
                line-height: 1.47368;
            }
        }

        @@media print {
            th,
            td {
                font-size: 14pt;
                line-height: 1.15;
            }
        }

        @@media (min-width: 40.0625em) {
            th,
            td {
                padding-bottom: 16px;
            }
        }

        @@media (min-width: 40.0625em) {
            th,
            td {
                padding-right: 24px;
            }
        }

        @@media (min-width: 40.0625em) {
            th,
            td {
                padding-top: 16px;
            }
        }

        th:last-child,
        td:last-child {
            padding-right: 0;
        }

        th {
            font-weight: 600;
        }


        .nhsuk-grid-column-full {
            box-sizing: border-box;
            padding: 0 16px;
        }

        @@media (min-width: 48.0625em) {
            .nhsuk-grid-column-full {
                float: left;
                width: 100%;
            }
        }

        .nhsuk-width-container {
            margin: 0 16px;
            max-width: 960px;
        }

        @@media (min-width: 48.0625em) {
            .nhsuk-width-container {
                margin: 0 32px;
            }
        }

        @@media (min-width: 1024px) {
            .nhsuk-width-container {
                margin: 0 auto;
            }
        }


        h2 {
            font-size: 24px;
            font-size: 1.5rem;
            line-height: 1.33333;
            display: block;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 16px;
        }

        @@media (min-width: 40.0625em) {
            h2 {
                font-size: 32px;
                font-size: 2rem;
                line-height: 1.25;
            }
        }


        .nhsuk-body-l {
            font-size: 20px;
            font-size: 1.25rem;
            line-height: 1.4;
            display: block;
            margin-top: 0;
            margin-bottom: 24px;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-body-l {
                font-size: 24px;
                font-size: 1.5rem;
                line-height: 1.33333;
            }
        }

        @@media print {
            .nhsuk-body-l {
                font-size: 18pt;
                line-height: 1.15;
            }
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-body-l {
                margin-bottom: 32px;
            }
        }

        p,
        .nhsuk-body-m {
            font-size: 16px;
            font-size: 1rem;
            line-height: 1.5;
            display: block;
            margin-top: 0;
            margin-bottom: 16px;
        }

        @@media (min-width: 40.0625em) {
            p,
            .nhsuk-body-m {
                font-size: 19px;
                font-size: 1.1875rem;
                line-height: 1.47368;
            }
        }

        @@media print {
            p,
            .nhsuk-body-m {
                font-size: 14pt;
                line-height: 1.15;
            }
        }

        @@media (min-width: 40.0625em) {
            p,
            .nhsuk-body-m {
                margin-bottom: 24px;
            }
        }

        p,
        .nhsuk-body-m {
            color: inherit;
        }

        .nhsuk-body-s {
            font-size: 14px;
            font-size: 0.875rem;
            line-height: 1.71429;
            display: block;
            margin-top: 0;
            margin-bottom: 16px;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-body-s {
                font-size: 16px;
                font-size: 1rem;
                line-height: 1.5;
            }
        }

        @@media print {
            .nhsuk-body-s {
                font-size: 14pt;
                line-height: 1.2;
            }
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-body-s {
                margin-bottom: 24px;
            }
        }

        .nhsuk-body-l + h2 {
            padding-top: 4px;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-body-l + h2 {
                padding-top: 8px;
            }
        }

        p + h2 {
            padding-top: 16px;
        }

        @@media (min-width: 40.0625em) {
            p + h2 {
                padding-top: 24px;
            }
        }

        b {
            font-weight: 600;
        }

        .nhsuk-u-margin-bottom-0 {
            margin-bottom: 0 !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-margin-bottom-0 {
                margin-bottom: 0 !important;
            }
        }

        .nhsuk-u-margin-bottom-3 {
            margin-bottom: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-margin-bottom-3 {
                margin-bottom: 16px !important;
            }
        }

        .nhsuk-u-margin-top-7 {
            margin-top: 40px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-margin-top-7 {
                margin-top: 48px !important;
            }
        }

        .nhsuk-u-margin-bottom-7 {
            margin-bottom: 40px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-margin-bottom-7 {
                margin-bottom: 48px !important;
            }
        }

        .nhsuk-u-margin-bottom-9 {
            margin-bottom: 56px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-margin-bottom-9 {
                margin-bottom: 64px !important;
            }
        }

        .nhsuk-u-padding-top-1 {
            padding-top: 4px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-top-1 {
                padding-top: 4px !important;
            }
        }

        .nhsuk-u-padding-bottom-1 {
            padding-bottom: 4px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-bottom-1 {
                padding-bottom: 4px !important;
            }
        }

        .nhsuk-u-padding-top-2 {
            padding-top: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-top-2 {
                padding-top: 8px !important;
            }
        }

        .nhsuk-u-padding-right-2 {
            padding-right: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-right-2 {
                padding-right: 8px !important;
            }
        }

        .nhsuk-u-padding-bottom-2 {
            padding-bottom: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-bottom-2 {
                padding-bottom: 8px !important;
            }
        }

        .nhsuk-u-padding-left-2 {
            padding-left: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-left-2 {
                padding-left: 8px !important;
            }
        }

        .nhsuk-u-padding-3 {
            padding: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-3 {
                padding: 16px !important;
            }
        }

        .nhsuk-u-padding-top-3 {
            padding-top: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-top-3 {
                padding-top: 16px !important;
            }
        }

        .nhsuk-u-padding-right-3 {
            padding-right: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-right-3 {
                padding-right: 16px !important;
            }
        }

        .nhsuk-u-padding-bottom-3 {
            padding-bottom: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-bottom-3 {
                padding-bottom: 16px !important;
            }
        }

        .nhsuk-u-padding-left-3 {
            padding-left: 8px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-left-3 {
                padding-left: 16px !important;
            }
        }

        .nhsuk-u-padding-top-4 {
            padding-top: 16px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-top-4 {
                padding-top: 24px !important;
            }
        }

        .nhsuk-u-padding-bottom-4 {
            padding-bottom: 16px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-bottom-4 {
                padding-bottom: 24px !important;
            }
        }

        .nhsuk-u-padding-right-5 {
            padding-right: 24px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-right-5 {
                padding-right: 32px !important;
            }
        }

        .nhsuk-u-padding-left-5 {
            padding-left: 24px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-left-5 {
                padding-left: 32px !important;
            }
        }

        .nhsuk-u-padding-top-9 {
            padding-top: 56px !important;
        }

        .nhsuk-u-padding-bottom-9 {
            padding-bottom: 56px !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-padding-bottom-9 {
                padding-bottom: 64px !important;
            }
        }

        .nhsuk-u-text-align-right {
            text-align: right !important;
        }

        .nhsuk-u-font-size-32 {
            font-size: 24px !important;
            font-size: 1.5rem !important;
            line-height: 1.33333 !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-font-size-32 {
                font-size: 32px !important;
                font-size: 2rem !important;
                line-height: 1.25 !important;
            }
        }

        @@media print {
            .nhsuk-u-font-size-32 {
                font-size: 24pt !important;
                line-height: 1.05 !important;
            }
        }

        .nhsuk-u-font-size-24 {
            font-size: 20px !important;
            font-size: 1.25rem !important;
            line-height: 1.4 !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-font-size-24 {
                font-size: 24px !important;
                font-size: 1.5rem !important;
                line-height: 1.33333 !important;
            }
        }

        @@media print {
            .nhsuk-u-font-size-24 {
                font-size: 18pt !important;
                line-height: 1.15 !important;
            }
        }

        .nhsuk-u-font-size-19 {
            font-size: 16px !important;
            font-size: 1rem !important;
            line-height: 1.5 !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-font-size-19 {
                font-size: 19px !important;
                font-size: 1.1875rem !important;
                line-height: 1.47368 !important;
            }
        }

        @@media print {
            .nhsuk-u-font-size-19 {
                font-size: 14pt !important;
                line-height: 1.15 !important;
            }
        }

        .nhsuk-u-font-size-16 {
            font-size: 14px !important;
            font-size: 0.875rem !important;
            line-height: 1.71429 !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-font-size-16 {
                font-size: 16px !important;
                font-size: 1rem !important;
                line-height: 1.5 !important;
            }
        }

        @@media print {
            .nhsuk-u-font-size-16 {
                font-size: 14pt !important;
                line-height: 1.2 !important;
            }
        }

        .nhsuk-u-font-size-14 {
            font-size: 12px !important;
            font-size: 0.75rem !important;
            line-height: 1.66667 !important;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-u-font-size-14 {
                font-size: 14px !important;
                font-size: 0.875rem !important;
                line-height: 1.71429 !important;
            }
        }

        @@media print {
            .nhsuk-u-font-size-14 {
                font-size: 12pt !important;
                line-height: 1.2 !important;
            }
        }

        .nhsuk-header__logo {
            float: left;
        }

        @@media (max-width: 40.0525em) {
            .nhsuk-header__logo {
                position: relative;
                z-index: 1;
            }
        }

        .nhsuk-header__logo .nhsuk-logo__background {
            fill: #fff;
        }

        .nhsuk-header__logo .nhsuk-logo__text {
            fill: #005eb8;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-header__logo {
                padding-left: 0;
            }
        }

        .nhsuk-header__logo .nhsuk-logo {
            height: 40px;
            width: 100px;
            border: 0;
        }

        @@media (max-width: 48.0525em) {
            .nhsuk-header__logo {
                max-width: 60%;
            }
        }

        @@media (max-width: 450px) {
            .nhsuk-header__logo {
                max-width: 50%;
            }
        }

        .nhsuk-header__link {
            height: 40px;
            width: 100px;
            display: block;
        }

            .nhsuk-header__link:hover .nhsuk-logo {
                box-shadow: 0 0 0 4px #003d78;
            }

            .nhsuk-header__link:focus {
                box-shadow: none;
            }

                .nhsuk-header__link:focus .nhsuk-logo {
                    box-shadow: 0 0 0 4px #ffeb3b, 0 4px 0 4px #212b32;
                }

        .nhsuk-header__link--service {
            height: auto;
            margin-bottom: -4px;
            text-decoration: none;
            width: auto;
        }

        @@media (min-width: 61.875em) {
            .nhsuk-header__link--service {
                align-items: center;
                display: flex;
                -ms-flex-align: center;
                margin-bottom: 0;
                width: auto;
            }
        }


        .nhsuk-header__service-name {
            font-weight: 400;
            font-size: 16px;
            font-size: 1rem;
            line-height: 1.5;
            color: #fff;
            display: block;
            padding-left: 0;
            padding-right: 0;
        }

        @@media (min-width: 40.0625em) {
            .nhsuk-header__service-name {
                font-size: 19px;
                font-size: 1.1875rem;
                line-height: 1.47368;
            }
        }

        @@media (min-width: 61.875em) {
            .nhsuk-header__service-name {
                padding-left: 16px;
            }
        }

        @@media (max-width: 61.865em) {
            .nhsuk-header__service-name {
                max-width: 220px;
            }
        }

        .nhsuk-table__row:hover {
            background-color: #f0f4f5;
        }

        .nhsuk-table-responsive {
            margin-bottom: 0;
            width: 100%;
        }

            .nhsuk-table-responsive thead {
                border: 0;
                clip: rect(0 0 0 0);
                -webkit-clip-path: inset(50%);
                clip-path: inset(50%);
                height: 1px;
                margin: 0;
                overflow: hidden;
                padding: 0;
                position: absolute;
                white-space: nowrap;
                width: 1px;
            }

        @@media (min-width: 48.0625em) {
            .nhsuk-table-responsive thead {
                clip: auto;
                -webkit-clip-path: initial;
                clip-path: initial;
                display: table-header-group;
                height: auto;
                overflow: auto;
                position: relative;
                width: auto;
            }
        }

        .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table-responsive__heading {
            font-weight: 600;
            padding-right: 16px;
            text-align: left;
        }

        @@media (min-width: 48.0625em) {
            .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table-responsive__heading {
                display: none;
            }
        }

        .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row {
            display: block;
            margin-bottom: 24px;
        }

            .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row:last-child {
                margin-bottom: 0;
            }

        @@media (min-width: 48.0625em) {
            .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row {
                display: table-row;
            }
        }

        .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row td {
            display: block;
            display: flex;
            justify-content: space-between;
            min-width: 1px;
        }

        @@media all and (-ms-high-contrast: none) {
            .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row td {
                display: block;
            }
        }

        @@media (min-width: 48.0625em) {
            .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row td {
                display: table-cell;
            }
        }

        @@media (max-width: 48.0525em) {
            .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row td {
                padding-right: 0;
                text-align: right;
            }

                .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row td:last-child {
                    border-bottom: 3px solid #d8dde0;
                }
        }

        .nhsuk-width-container.app-width-container {
            max-width: 75.5rem;
            margin: 0 auto;
            padding-left: 2rem;
            padding-right: 2rem;
        }

        .nhsuk-header__logo {
            flex: 1 0 0;
        }

            .nhsuk-header__logo .nhsuk-header__link--service {
                display: inline-flex;
            }

        .nhsuk-header__service-name {
            font-size: 1.1875rem;
        }

        @@media (min-width: 48.0625rem) {
            .display-desktop--show {
                display: block !important;
            }
        }

        @@media (max-width: 61.8125rem) {
            .nhsuk-header__link--service {
                align-items: center;
                -ms-flex-align: center;
                margin-bottom: 0;
                width: auto;
            }

            .nhsuk-header__service-name {
                padding-left: 1rem;
            }

            .nhsuk-header__logo {
                order: 0;
            }
        }

        @@media (max-width: 48rem) {
            .nhsuk-width-container.app-width-container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }

        .fal {
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            display: inline-block;
            font-style: normal;
            font-variant: normal;
            text-rendering: auto;
            line-height: 1;
        }

        .fa-chevron-right:before {
            content: "\f054";
        }

        .fal {
            font-family: "Font Awesome 5 Pro";
            font-weight: 300;
        }

        .my-learning .certificateHead {
            background-color: #005eb8 !important;
            height: 72px;
        }

        .my-learning thead th {
            border-bottom: none;
        }

        .my-learning tbody td {
            border-bottom: none;
        }

        .my-learning th,
        .my-learning td {
            text-align: left;
        }

        .my-learning .certificateSummaryBody,
        .my-learning .certificateBody {
            border-left: 1px solid #aeb7bd;
            border-right: 1px solid #aeb7bd;
        }

        .my-learning .summaryTableHead {
            background-color: #f0f4f5 !important;
            border-bottom: none;
        }

        .my-learning .word-wrapper {
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .my-learning table, th, td {
            width: 100%;
        }

        .my-learning th.Learningresource {
            width: 15%;
        }

        @@media (max-width: 599px) {
            .my-learning .summaryTableHead {
                width: 100vw;
            }
        }

        .my-learning .breadcrumbtable {
            border: 1px solid #005eb8;
        }

        .my-learning .summarytabledetails {
            border: 1px solid #005eb8;
        }

        .my-learning .certificateBody {
            text-align: center;
        }

        .my-learning .certificateFooter {
            background-color: #f0f4f5 !important;
            text-align: center;
            border-left: 1px solid #aeb7bd;
            border-right: 1px solid #aeb7bd;
            border-bottom: 1px solid #aeb7bd;
        }

        @@media (max-width: 599px) {
            .my-learning .nhsuk-table-responsive .nhsuk-table__body .nhsuk-table__row td {
                display: grid;
                text-align: left;
            }
        }

        .my-learning table {
            width: 100%;
        }

        .my-learning .no-table-spacing {
            margin-bottom: 0px;
            padding-bottom: 0px;
        }

        .page-spacer {
            margin-top: 250px;
        }

        .page-max-width {
            max-width: 100rem
        }


        @@page {
            size: landscape;
            margin: 0;
        }

        .my-learning-column-width {
            width: 110px;
        }

        .my-learning table tr {
            border-bottom: 2px solid #d8dde0;
        }

        .my-learning-report-heading {
            margin-left: -30px;
        }

        .my-learning-status-column-width {
            width: 160px;
        }

    </style>
</head>

<div class="my-learning bg-white">
    <div class="nhsuk-width-container app-width-container">
        <div class="nhsuk-grid-row">
            <div class="nhsuk-u-padding-top-4 nhsuk-u-padding-bottom-2">
                <div class="lh-container-xl">
                    <div>
                        <img src="https://learninghub.nhs.uk/images/NHS-white.svg" alt="NHS" />
                        <div class="header-title">Learning Hub<sup class="header-beta" style="color: #768692;">Beta</sup></div>
                    </div>
                </div>
                <div class="lh-container-xl">
                    <div class="activity-report-heading pb-4">
                        <h1 class="nhsuk-heading-l">Activity report:  <span class="nhsuk-caption-l no-wrap">  @Model.Item1.FirstName @Model.Item1.LastName (@Model.Item1.UserName)</span></h1>
                    </div>
                </div>
            </div>

            <table style="width:100%;table-layout:fixed" role="table" class="nhsuk-table-responsive">
                <thead role="rowgroup" class="nhsuk-table__head">
                    <tr role="row">
                        <th role="columnheader" class="nhsuk-u-padding-top-2 my-learning-column-width" scope="col">
                            Id
                        </th>
                        <th role="columnheader" class="nhsuk-u-padding-top-2" scope="col">
                            Title
                        </th>
                        <th role="columnheader" class="nhsuk-u-padding-top-2 my-learning-status-column-width" scope="col">
                            Status
                        </th>
                    </tr>
                </thead>
                <tbody class="nhsuk-table__body">
                    @foreach (var activity in Model.Item2.Activities)
                    {
                        var isCompleted = ViewActivityHelper.GetActivityStatusDisplayText(activity) == ActivityStatusEnum.Completed.ToString();

                        var typeLabelClass = isCompleted ? "nhsuk-u-primary-text-color" : "nhsuk-u-secondary-text-color";
                        var accessedLabelClass = typeLabelClass;
                        var tagColorClass = isCompleted ? "nhsuk-tag--green" : "nhsuk-tag--blue";
                        var statusText = isCompleted ? "Completed" : "In progress";
                        var displayText = isCompleted ? "Completed" : "Accessed";

                        var activityDate = activity.ActivityDate.Date;
                        var today = DateTime.Today;
                        var dateTimeText = activityDate == today ? "Today"
                        : activityDate == today.AddDays(-1) ? "Yesterday"
                        : activityDate.ToString("dd MMM yyyy");
                        var certicateAwardedDate = activity.CertificateAwardedDate.Date;
                        var certificateAwardedText = certicateAwardedDate == today ? "Today"
                        : certicateAwardedDate == today.AddDays(-1) ? "Yesterday"
                        : certicateAwardedDate.ToString("dd MMM yyyy");
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell word-wrapper">
                                <span>@activity.ResourceReferenceId</span>
                            </td>
                            <td>
                                <span class="nhsuk-u-padding-bottom-3">
                                    @if (ViewActivityHelper.GetResourceTypeDesc(activity.ResourceType) == "Course")
                                    {
                                        <a class="nhsuk-u-font-size-19" href="@GetMoodleCourseUrl(activity.ResourceId)">@activity.Title</a>
                                    }
                                    else
                                    {
                                        <a class="nhsuk-u-font-size-19" href="@GetResourceUrl(activity.ResourceReferenceId)">@activity.Title</a>
                                    }
                                </span>
                                <div class="nhs-item-row nhsuk-u-padding-bottom-3 nhsuk-u-padding-top-2">
                                    <div>
                                        <span class="@typeLabelClass nhsuk-u-font-size-16 nhsuk-u-font-weight-bold nhsuk-u-padding-right-2">Type:</span>

                                        <span class="nhsuk-u-padding-right-3  nhsuk-u-font-size-16 @typeLabelClass">
                                            @ViewActivityHelper.GetResourceTypeDesc(activity.ResourceType)
                                        </span>

                                        <span class="nhsuk-u-padding-right-2 nhsuk-u-font-size-16 @accessedLabelClass nhsuk-u-font-weight-bold">
                                            @displayText:
                                        </span>

                                        <span class="nhsuk-u-font-size-16 @accessedLabelClass">
                                            @dateTimeText
                                        </span>
                                    </div>
                                </div>
                                @if (ViewActivityHelper.GetResourceTypeDesc(activity.ResourceType) == "Course")
                                {
                                    <div class="nhs-progress-container" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                                        <div class="nhs-progress-bar" style="width: @(activity.ScorePercentage)%"></div>
                                    </div>
                                }


                                @if (ViewActivityHelper.CanCertificateawarded(activity))
                                {

                                    <div class="nhsuk-u-padding-bottom-5 nhsuk-u-padding-top-4 nhsuk-u-font-size-16">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="24" viewBox="0 0 19 24" fill="none">
                                            <g clip-path="url(#clip0_4164_3951)">
                                                <path d="M13.3598 18.9737V23.1883C13.3598 23.4148 12.7512 23.5225 12.4233 23.3543L9.57333 21.8784C9.35548 21.7662 8.97144 21.7685 8.76034 21.8851L6.18212 23.3139C5.86096 23.4911 5.23438 23.3879 5.23438 23.1546V17.6055" stroke="#007F3B" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                                                <path d="M18.0346 9.08368C18.0346 9.70947 16.9027 10.2007 16.768 10.7884C16.6332 11.376 17.435 12.327 17.17 12.8721C16.9049 13.4171 15.6675 13.379 15.2857 13.8568C14.9039 14.3345 15.2228 15.5255 14.7422 15.9091C14.2616 16.2927 13.1746 15.714 12.6176 15.9831C12.0607 16.2523 11.8428 17.459 11.2365 17.5958C10.6301 17.7327 9.91816 16.739 9.29157 16.739C8.66498 16.739 7.93284 17.7304 7.34668 17.5958C6.76051 17.4613 6.51347 16.2456 5.96549 15.9831C5.4175 15.7207 4.31929 16.2904 3.84093 15.9091C3.36257 15.5278 3.68147 14.3368 3.29744 13.8568C2.9134 13.3768 1.68268 13.4284 1.41543 12.8721C1.14817 12.3158 1.95443 11.394 1.81743 10.7884C1.68044 10.1827 0.550781 9.71172 0.550781 9.08368C0.550781 8.45564 1.68268 7.96667 1.81743 7.37901C1.95218 6.79134 1.15042 5.84032 1.41543 5.29527C1.68044 4.75022 2.91789 4.78835 3.29968 4.3106C3.68147 3.83284 3.36257 2.64181 3.84317 2.25826C4.32378 1.87471 5.41077 2.4534 5.96773 2.18424C6.5247 1.91508 6.74255 0.708352 7.34892 0.57153C7.9553 0.434707 8.66723 1.42835 9.29381 1.42835C9.9204 1.42835 10.6525 0.43695 11.2387 0.57153C11.8249 0.706109 12.0719 1.92181 12.6199 2.18424C13.1679 2.44667 14.2661 1.87695 14.7445 2.25826C15.2228 2.63957 14.9039 3.8306 15.2879 4.3106C15.672 4.7906 16.9027 4.73901 17.17 5.29527C17.4372 5.85153 16.631 6.7734 16.768 7.37901C16.9049 7.98461 18.0346 8.45564 18.0346 9.08368Z" fill="#007F3B" />
                                                <path d="M18.0346 9.08368C18.0346 9.70947 16.9027 10.2007 16.768 10.7884C16.6332 11.376 17.435 12.327 17.17 12.8721C16.9049 13.4171 15.6675 13.379 15.2857 13.8568C14.9039 14.3345 15.2228 15.5255 14.7422 15.9091C14.2616 16.2927 13.1746 15.714 12.6176 15.9831C12.0607 16.2523 11.8428 17.459 11.2365 17.5958C10.6301 17.7327 9.91816 16.739 9.29157 16.739C8.66498 16.739 7.93284 17.7304 7.34668 17.5958C6.76051 17.4612 6.51347 16.2455 5.96549 15.9831C5.4175 15.7207 4.31929 16.2904 3.84093 15.9091C3.36257 15.5278 3.68147 14.3368 3.29744 13.8568C2.9134 13.3768 1.68268 13.4284 1.41543 12.8721C1.14817 12.3158 1.95443 11.394 1.81743 10.7884C1.68044 10.1827 0.550781 9.71172 0.550781 9.08368C0.550781 8.45564 1.68268 7.96667 1.81743 7.37901C1.95218 6.79134 1.15042 5.84032 1.41543 5.29527C1.68044 4.75022 2.91789 4.78835 3.29968 4.3106C3.68147 3.83284 3.36257 2.64181 3.84317 2.25826C4.32378 1.87471 5.41077 2.4534 5.96773 2.18424C6.5247 1.91508 6.74255 0.708352 7.34892 0.57153C7.9553 0.434707 8.66723 1.42835 9.29381 1.42835C9.9204 1.42835 10.6525 0.43695 11.2387 0.57153C11.8249 0.706109 12.0719 1.92181 12.6199 2.18424C13.1679 2.44667 14.2661 1.87695 14.7445 2.25826C15.2228 2.63957 14.9039 3.8306 15.2879 4.3106C15.672 4.7906 16.9027 4.73901 17.17 5.29527C17.4372 5.85153 16.631 6.7734 16.768 7.37901C16.9049 7.98461 18.0346 8.45564 18.0346 9.08368Z" stroke="#007F3B" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                                                <path d="M9.22597 13.2915L4.92969 8.03622L6.79148 5.27734H11.9479L13.6682 8.03622L9.22597 13.2915Z" fill="#007F3B" stroke="white" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" />
                                                <path d="M9.26706 13.2915L7.29297 8.03622L8.14863 5.27734H10.5157L11.304 8.03622L9.26706 13.2915Z" fill="#007F3B" stroke="white" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" />
                                                <path d="M5.11328 7.99609H12.1338" stroke="white" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" />
                                            </g>
                                            <defs>
                                                <clipPath id="clip0_4164_3951">
                                                    <rect width="18.5764" height="24" fill="white" />
                                                </clipPath>
                                            </defs>
                                        </svg> <span class="nhsuk-u-font-size-16 nhsuk-u-font-weight-bold nhsuk-u-padding-right-2 nhsuk-u-padding-left-1">Certificate:</span>
                                        <span class="nhsuk-u-font-size-16">awarded [@certificateAwardedText]</span>

                                    </div>

                                }
                                else
                                {
                                    <div class="nhs-item-row nhsuk-u-padding-bottom-5 nhsuk-u-padding-top-4">
                                        @if (ViewActivityHelper.GetResourceTypeDesc(activity.ResourceType) == "Course")
                                        {
                                            <div class="nhsuk-u-padding-top-4 nhsuk-u-font-size-16 nhsuk-u-font-weight-bold nhsuk-u-secondary-text-color" id="progressText"> @activity.TotalActivities of @activity.CompletedActivities activities completed</div>
                                        }
                                        else
                                        {
                                            <div>
                                                <span class="nhsuk-u-visually-hidden">No certificate available</span>
                                            </div>
                                        }
                                    </div>
                                }
                            </td>
                            <td>
                                <span class="nhsuk-u-text-align-left  table-content-spacing">
                                    <strong class="nhsuk-tag @tagColorClass">
                                        @statusText
                                    </strong>
                                </span>
                                <div class="nhs-item-row nhsuk-u-padding-bottom-5 nhsuk-u-padding-top-2">
                                    @if (activity.CertificateEnabled == true)
                                    {
                                        <div class="nhsuk nhsuk-u-font-size-14 nhsuk-u-secondary-text-color">
                                            Includes a certificate
                                            <span class="nhsuk-u-padding-left-1">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="24" viewBox="0 0 19 24" fill="none">
                                                    <g clip-path="url(#clip0_1298_21764)">
                                                        <path d="M13.7817 18.9737V23.1883C13.7817 23.4148 13.1731 23.5225 12.8452 23.3543L9.9952 21.8784C9.77736 21.7662 9.39332 21.7685 9.18221 21.8851L6.60399 23.3139C6.28284 23.4911 5.65625 23.3879 5.65625 23.1546V17.6055" stroke="#AEB7BD" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                                                        <path d="M18.4565 9.08368C18.4565 9.70947 17.3246 10.2007 17.1898 10.7884C17.0551 11.376 17.8568 12.327 17.5918 12.8721C17.3268 13.4171 16.0894 13.379 15.7076 13.8568C15.3258 14.3345 15.6447 15.5255 15.1641 15.9091C14.6835 16.2927 13.5965 15.714 13.0395 15.9831C12.4826 16.2523 12.2647 17.459 11.6583 17.5958C11.052 17.7327 10.34 16.739 9.71344 16.739C9.08685 16.739 8.35471 17.7304 7.76855 17.5958C7.18239 17.4613 6.93535 16.2456 6.38736 15.9831C5.83938 15.7207 4.74117 16.2904 4.2628 15.9091C3.78444 15.5278 4.10335 14.3368 3.71931 13.8568C3.33527 13.3768 2.10456 13.4284 1.8373 12.8721C1.57005 12.3158 2.3763 11.394 2.23931 10.7884C2.10231 10.1827 0.972656 9.71172 0.972656 9.08368C0.972656 8.45564 2.10456 7.96667 2.23931 7.37901C2.37406 6.79134 1.57229 5.84032 1.8373 5.29527C2.10231 4.75022 3.33977 4.78835 3.72156 4.3106C4.10335 3.83284 3.78444 2.64181 4.26505 2.25826C4.74566 1.87471 5.83264 2.4534 6.38961 2.18424C6.94658 1.91508 7.16442 0.708352 7.7708 0.57153C8.37717 0.434707 9.0891 1.42835 9.71569 1.42835C10.3423 1.42835 11.0744 0.43695 11.6606 0.57153C12.2467 0.706109 12.4938 1.92181 13.0418 2.18424C13.5898 2.44667 14.688 1.87695 15.1663 2.25826C15.6447 2.63957 15.3258 3.8306 15.7098 4.3106C16.0939 4.7906 17.3246 4.73901 17.5918 5.29527C17.8591 5.85153 17.0528 6.7734 17.1898 7.37901C17.3268 7.98461 18.4565 8.45564 18.4565 9.08368Z" fill="#F2F8FD" />
                                                        <path d="M18.4565 9.08368C18.4565 9.70947 17.3246 10.2007 17.1898 10.7884C17.0551 11.376 17.8568 12.327 17.5918 12.8721C17.3268 13.4171 16.0894 13.379 15.7076 13.8568C15.3258 14.3345 15.6447 15.5255 15.1641 15.9091C14.6835 16.2927 13.5965 15.714 13.0395 15.9831C12.4826 16.2523 12.2647 17.459 11.6583 17.5958C11.052 17.7327 10.34 16.739 9.71344 16.739C9.08686 16.739 8.35471 17.7304 7.76855 17.5958C7.18239 17.4612 6.93535 16.2455 6.38736 15.9831C5.83938 15.7207 4.74117 16.2904 4.2628 15.9091C3.78444 15.5278 4.10335 14.3368 3.71931 13.8568C3.33527 13.3768 2.10456 13.4284 1.8373 12.8721C1.57005 12.3158 2.3763 11.394 2.23931 10.7884C2.10231 10.1827 0.972656 9.71172 0.972656 9.08368C0.972656 8.45564 2.10456 7.96667 2.23931 7.37901C2.37406 6.79134 1.57229 5.84032 1.8373 5.29527C2.10231 4.75022 3.33977 4.78835 3.72156 4.3106C4.10335 3.83284 3.78444 2.64181 4.26505 2.25826C4.74566 1.87471 5.83264 2.4534 6.38961 2.18424C6.94658 1.91508 7.16442 0.708352 7.7708 0.57153C8.37717 0.434707 9.0891 1.42835 9.71569 1.42835C10.3423 1.42835 11.0744 0.43695 11.6606 0.57153C12.2467 0.706109 12.4938 1.92181 13.0418 2.18424C13.5898 2.44667 14.688 1.87695 15.1663 2.25826C15.6447 2.63957 15.3258 3.8306 15.7098 4.3106C16.0939 4.7906 17.3246 4.73901 17.5918 5.29527C17.8591 5.85153 17.0528 6.7734 17.1898 7.37901C17.3268 7.98461 18.4565 8.45564 18.4565 9.08368Z" stroke="#AEB7BD" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                                                        <path d="M9.64784 13.2915L5.35156 8.03622L7.21336 5.27734H12.3698L14.0901 8.03622L9.64784 13.2915Z" fill="#F2F8FD" stroke="#AEB7BD" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" />
                                                        <path d="M9.68893 13.2915L7.71484 8.03622L8.57051 5.27734H10.9376L11.7259 8.03622L9.68893 13.2915Z" fill="#F2F8FD" stroke="#AEB7BD" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" />
                                                        <path d="M5.53516 7.99609H12.5556" stroke="#AEB7BD" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" />
                                                    </g>
                                                    <defs>
                                                        <clipPath id="clip0_1298_21764">
                                                            <rect width="18.5764" height="24" fill="white" transform="translate(0.421875)" />
                                                        </clipPath>
                                                    </defs>
                                                </svg>
                                            </span>
                                        </div>
                                    }
                                    </div>
                            </td>

                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>